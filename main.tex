\documentclass[twocolumn,9pt]{jsproceedings}
\RequirePackage[l2tabu,orthodox]{nag}  % 古いコマンドやパッケージを使用した場合に警告する
\usepackage[all,warning]{onlyamsmath}  % amsmath が提供しない数式環境を使用した場合に警告する
% \usepackage{flushend}  % 最終ページの2カラムの左右の高さを揃える
\usepackage{here} %図の場所の指定で[h]（ここに貼る）を指定するためのパッケージ
\usepackage[dvipdfmx]{graphicx} %dvipdfmxはjpgやpngの張り込みのために使用


% タイトル
\title{小型自律移動ロボットを用いた\\つくばチャレンジ2023での取り組み}

\author{○池邉　龍宏\authorrefmark{2}、内田　璃空\authorrefmark{2}、畑中　優一郎\authorrefmark{1}、臼井　温希\authorrefmark{1}、庄司　史門\authorrefmark{1}、松井　大和\authorrefmark{1}、\\
山崎　政光\authorrefmark{1}、登内　リオン\authorrefmark{1}、林原　靖男\authorrefmark{1}、上田　隆一\authorrefmark{1}}

\etitle{Participation report in the Tsukuba Challenge 2023\\using a small mobile robot}

\eauthor{○Tatsuhiro IKEBE\eauthorrefmark{2}、Riku UCHIDA\eauthorrefmark{2}、Yuichiro HATANAKA\eauthorrefmark{1}、Atsuki USUI\eauthorrefmark{1}、Shimon SHOJI\eauthorrefmark{1}、Yamato MATSUI\eauthorrefmark{1}、Masamitsu YAMAZAKI\eauthorrefmark{1}、Leon TONOUCHI\eauthorrefmark{1}、\\Yasuo HAYASHIBARA\eauthorrefmark{1}、Ryuichi UEDA\eauthorrefmark{1}}

\affiliation{千葉工業大学 未来ロボティクス学科 Cat Aチーム/Bチーム}

\begin{document}
\maketitle

\authorreftext{1}{千葉工業大学先進工学部未来ロボティクス学科}
\authorreftext{2}{千葉工業大学院先進工学研究科未来ロボティクス専攻}
\eauthorreftext{1}{Department of Advanced Robotics、Faculty of Advanced Engineering、Chiba Institute of Technology}
\eauthorreftext{2}{Department of Advanced Robotics、Graduate School of Advanced Engineering、Chiba Institute of Technology}

% 本文
\section{緒言}

「屋外で小型移動ロボットが安全に自律移動するためのシステムの構築」を目的として、
千葉工業大学 未来ロボティクス学科 上田研究室 ツナチーム、たまチーム、むぎまるチームの
計3チームで、つくばチャレンジ2023に参加した。
あえて、小型な移動ロボットを使用する動機は、
他のチームでは発見することのできない小型移動ロボットならではの
問題を発見するためである。

本年度は、ROS 2というソフトウェアフレームワークを各チーム用いた。
昨年度までは、ROSを使用していたが、ROSの最終リリースであるROS Noetic Ninjemysが2025年5月に
サポート終了を迎えることを受け、ROS 2への移行が必要となった。
そこで、各チームのつくばチャレンジ2023での目標を、

\begin{itemize}
  \item ツナチーム
  \begin{itemize}
    \item ROS 2実装での自作ナビゲーションスタックによる小型ロボットの自律移動
  \end{itemize}
  \item たまチーム
  \begin{itemize}
    \item 本研究室の自己位置推定パッケージであるemcl2をROS 2に移行し、NAV2と組み合わせ、小型ロボットの自律移動
  \end{itemize}
  \item むぎまるチーム
  \begin{itemize}
    \item 比較的安価で小型である3次元LiDARを用いた自律移動システムの構築による、小型ロボットの自律移動
  \end{itemize}
\end{itemize}
とした。

各チームで使用した機体を図\ref{fig:raspicat}に示す。
センサ構成としては、各チームの機体に外界センサとして
2次元LiDAR、3次元LiDAR、内界センサとしてIMUを搭載した。
昨年は、計算機としてRaspberry Pi 4 Model Bを使用していたが、
今年は、ROS 2の移行段階であったため、ノートPCを各機体に搭載し、
負荷の高い処理をノートPC上で行った。
使用した機体のベースは、アールティ社製の既製品、Raspberry Pi Catである。

\begin{figure}[h]
 	\begin{center}
 		% \includegraphics[width=1.0\linewidth]{figs/raspicat.pdf}
 		\caption{Raspberry Pi Cat（上左: ツナチーム、上右: たまチーム、下左: むぎまるチーム）}
 		\label{fig:raspicat}
 	\end{center}
\end{figure}

つくばチャレンジ2023での本走行の結果を表\ref{fig:main-run}に示す。
ツナチームは確認走行区間を走りきったが、最後の障害物回避の課題で、
障害物を回避できず衝突し、失敗した。

\begin{table}[h]
  \caption{各チームの本走行の結果}
  \label{MainRun}
	\begin{tabular}{|c|c|p{5.4cm}|}
    \hline
	チーム & 走行距離 & リタイアの理由 \\
    \hline
  ツナチーム & 440[m] & 市役所前の横断歩道の横断後の障害物回避課題に失敗\\
    \hline
  たまチーム & 149[m] & 市役所西側曲がり角で坂道に足を取られ自己位置推定が破綻\\
    \hline
  むぎまるチーム &  & \\
    \hline
  \end{tabular}
\end{table}

本稿では、各チームで立てた目標ごとに行った取り組み
について説明する。
本稿の構成は次の通りである。 
2章ではリタイヤの原因について、
3章ではロボットのシステムについて説明をし、
ナビゲーションのソフトウェアで見つかった課題に
ついて説明をする。 
4章では結言を述べる。

\section{本走行でのリタイアの原因}

たまチームについては、表の通り、坂道に足を取られ失敗した。
書き途中

\section{ロボットのシステム}

\subsection{センシングからナビゲーションまでのシステム}\label{sub:localization}

\subsubsection{使用したハードウェアとソフトウェア}


\subsubsection{実験走行、本走行で見つかった課題}

\paragraph{}

\subsection{経路生成、衝突回避のシステム（去年の）}

\subsection{電力消費の大幅削減（去年の）}

\section{結言}

\section*{謝辞}

%↑上田整理。あと、著者に名前を連ねない人がいたらここに書くと良いです。

% 参考文献
% \small
\footnotesize
\begin{thebibliography}{99}
  \bibitem{ROS}
	  Morgan Quigley {\it et al.}: ``ROS: an open-source Robot Operating System,'' 
Open-Source Software workshop of the International Conference on Robotics and Automation、2009. 

\bibitem{fox2003}
Dieter Fox:
``Adapting the Sample Size in Particle Filters Through KLD-Sampling,''
International Journal of Robotics Research、Vol. 22、No. 12、pp. 985-1003、2003. 

\bibitem{gutmann2002}
Jens-Steffen Gutmann and Dieter Fox: 
``An Experimental Comparison of Localization Methods Continued,''
Proc. of the IEEE/RSJ International Conference on Intelligent Robots and Systems (IROS),pp. 454-459、2002.
  
% \bibitem{ueda2002tdp}
% 	Ryuichi Ueda {\it et al.}: 
% ``Team description of Team ARAIBO,'' 
% Proc. of 2002 International RoboCup Symposium、2002. 

  % \bibitem{ueda2004iros}
	% Ryuichi Ueda {\it et al.}: 
  % ``Expansion Resetting for Recovery from Fatal Error in Monte Carlo Localization -- Comparison with Sensor Resetting Methods,'' Proc．of IROS，pp.2481--2486，2004．
  
  % \bibitem{map2gazebo}
  % Shiloh Curtis: ``shilohc/map2gazebo''，\url{https://github.com/shilohc/map2gazebo} (last visit: 2021-12-31)．
  
  % \bibitem{move_base}
  % Eitan Marder-Eppstein: ``move\_base,'' \url{http://wiki.ros.org/move_base} (last visit: 2021-12-31)．
  
  \bibitem{amcl}
  Brian Gerkey: ``amcl,'' \url{https://wiki.ros.org/amcl} (last visit: 2021-12-31)．

  \bibitem{gmapping}
  Brian Gerkey: ``gmapping,'' \url{http://wiki.ros.org/gmapping} (last visit: 2021-12-31)．
  
  % \bibitem{GIMP}
  % GIMP.org: ``GIMP,'' \url{https://www.gimp.org/} (last visit: 2021-12-31)．
  
\bibitem{emcl2}
Ryuichi Ueda: ``ryuichiueda/emcl2,''\\\url{https://github.com/ryuichiueda/emcl2} (last visit: 2022-12-12).

\bibitem{pfc}
	Ryuichi Ueda: ``ryuichiueda/value\_iteration (amdp branch),''\\\url{https://github.com/ryuichiueda/value_iteration/tree/amdp} (last visit: 2022-12-12).

  \bibitem{raspicat}
  Ryuichi Ueda and Daisuke Sato: ``ja/raspicat,'' \url{https://wiki.ros.org/ja/raspicat} (last visit: 2021-12-31)．
  
  \bibitem{youtube}
  BEIKE: ``つくばチャレンジ2022 実験走行 11/19 スタートからゴールまで自律移動（神の手4回）,'' \url{https://www.youtube.com/watch?v=3gpjVhRIJDY} (last visit: 2022-12-12)．
  % \bibitem{raspicat_rosbag}
  % Tatsuhiro Ikebe: ``uhobeike/raspicat\_rosbag,'' \url{https://github.com/uhobeike/raspicat_rosbag} (last visit: 2021-12-31)．

  \bibitem{池邉2021}
 池邉 龍宏，曹 越，高橋 秀太，クルス　ペレス アントニオ，林原 靖男，上田 隆一: 小型移動ロボットによるつくばチャレンジへの挑戦，第22回計測自動制御学会システムインテグレーション部門講演会，pp.3390-3393，2021.

% \bibitem{上田2019}
% 上田 隆一: ``詳解確率ロボティクス''、講談社、2019.

%   \bibitem{上田2020}
%  上田隆一，鈴木勇矢: 自己位置が不確かな状況における移動ロボットの危険回避行動の生成，第38回日本ロボット学会学術講演会予稿集，pp．RSJ2020AC2C2-02，オンライン開催，2020.

  % \bibitem{地図合成}
  % 川合隆太他: ``産業技術大学院大学における自律移動ロボット「産技大2号」の開発''，2019年度つくばチャレンジシンポジウム、pp.4-7、2020.

  % \bibitem{RTshop}
  % 株式会社アールティ：``Raspberry Pi Cat 屋外でも動かせる中型2輪ロボット''，
  % RT Robot Shop Products，\url{https://rt-net.jp/products/raspberry-pi-cat/} (last visit 2021-12-31)

  % \bibitem{aws2020}
	%   CIT自律ロボット研究室: ``AWSロボットデリバリーチャレンジで本研究室メンバーが優勝,'' \url{https://lab.ueda.tech/?post=20200915_aws_challenge} (last visit 2022-01-04)

  % \bibitem{学科サイト}
	%   千葉工業大学先進工学部未来ロボティクス学科: ``AWS Robot Delivery Challenge 2021 準優勝''、\url{https://www.robotics.it-chiba.ac.jp/j/?p=838} (last visit 2022-01-04)
  
  % \bibitem{つくばチャレンジロボット仕様}
  % つくばチャレンジ実行委員会事務局：``つくばチャレンジ 2021 ロボット仕様条件''，
  % \url{https://tsukubachallenge.jp/2021/regulations/specs} (last visit 2021-12-31)
  
  % \bibitem{UST-30LX}
  % 北陽電機株式会社：``UST-30LX''，\url{https://www.hokuyo-aut.co.jp/search/single.php?serial=195#spec} (last visit: 2021-12-31).
  
  % \bibitem{Turtlebot3 Burger}
  % 株式会社ロボティズ： ``Turtlebot3 Burgerの仕様''，\url{https://emanual.robotis.com/docs/en/platform/turtlebot3/features/} (last visit: 2022-1-3)．
  
  % \bibitem{つくばチャレンジ公式記録}
  % つくばチャレンジ実行委員会事務局：``つくばチャレンジ2021の走行結果''，
  % \url{https://tsukubachallenge.jp/2021/records/final} (last visit 2021-12-31)

  % \bibitem{出野畑中}
	%   畑中 優一郎，出野 廣太郎，上田 隆一：``Raspberry Pi 3BのみでRaspberry Pi Catのナビゲーション（屋内環境編）''，CIT自律ロボット研究室，\url{https://lab.ueda.tech/?post=20211210} (last visit 2022-01-02)
\end{thebibliography}
\normalsize

\clearpage

%\section{付録として、各実験走行でどんなことをやっていたかを書く？}
% 当チームは、9日間分のすべての実験走行会に参加した。
% 7月2日、7月23日は確認走行区間から信号あり横断歩道手前までの自己位置推定のテストを行った。
% 地図は昨年作ったものを使い、自己位置推定のパッケージにemcl2を使った。
% また、駅・公園エリアの地図作成のためのrosbagを取った。
% 9月17日、10月1日は駅・公園エリアの走行実験を行った。
% 走行エリアが増えたことに伴い地図の容量が増大し、4GBメモリのRaspberry Piでは処理できなかった。
% メモリの容量を増やし、地図の余白部分を削ることで駅・公園エリアが走行できるようになった。
% 10月22日、10月23日は信号あり横断歩道の横断の走行テストを行った。
% 通常の走行速度では青信号中に横断しきれなかったため、
% 信号あり横断歩道の横断中のみ走行速度を変えることで、青信号中に横断しきることができた。

\end{document}
